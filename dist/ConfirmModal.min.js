!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ConfirmModal=e()}}(function(){var e,t,n;return function e(t,n,o){function i(s,c){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return i(n?n:e)},d,d.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,n,o){!function(t,i){if("function"==typeof e&&e.amd)e(["module"],i);else if("undefined"!=typeof o)i(n);else{var r={exports:{}};i(r),t.ConfirmModal=r.exports}}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),ConfirmModal=function(){function ConfirmModal(e){t(this,ConfirmModal),this._resolveOptions(e)}return n(ConfirmModal,[{key:"_resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id_prefix?t.id_prefix:"mm-confirmmodal";this.ids={btn_cancel:n+"-cancel",btn_proceed:n+"-proceed",container:n,overlay:n+"-overlay"};var o=t.cssclasses?t.cssclasses:{};this.cssclasses={btn_cancel:o.btn_cancel?o.btn_cancel:"btn btn-danger",btn_proceed:o.btn_proceed?o.btn_cancel:"btn btn-primary"};var i=t.messages||{};this.messages={title:i.title?i.title:"Confirm",desc:i.desc?i.desc:"",cancel:i.cancel?i.cancel:"Cancel",proceed:i.proceed?i.proceed:"Confirm"},this.callbacks={onProceed:"function"==typeof t.onProceed?t.onProceed:null,onCancel:"function"==typeof t.onCancel?t.onCancel:null};var r=t.buttons?t.buttons:{};this.buttons={cancel:"boolean"==typeof r.cancel?r.cancel:!0,proceed:"boolean"==typeof r.proceed?r.proceed:!0};var s=t.prompt?t.prompt:{};this.prompt={enabled:"boolean"==typeof s.enabled?s.enabled:!1,required:"boolean"==typeof s.required?s.required:!1,value:null}}},{key:"open",value:function e(){if(!document.getElementById(this.ids.container)){var t="";this.prompt.enabled&&(t="<form>",t+=this.prompt.required?"<textarea class='form-control' required></textarea>":"<textarea class='form-control'></textarea>",t+="</form>");var n=document.createElement("div"),o="<div id='"+this.ids.container+"'>\n								<div id='"+this.ids.container+"-content'>\n									<h2>"+this.messages.title+"</h2>\n									<p>"+this.messages.desc+"</p>\n									"+t+"\n									<footer>";this.buttons.cancel&&(o+='<button class="'+this.cssclasses.btn_cancel+'" id="'+this.ids.btn_cancel+'">'+this.messages.cancel+"</button>"),this.buttons.proceed&&(o+='<button class="'+this.cssclasses.btn_proceed+'" id="'+this.ids.btn_proceed+'">'+this.messages.proceed+"</button>"),o+="						</footer>\n								</div>\n							  </div>",n.innerHTML=o,document.body.appendChild(n);var i=document.createElement("div");i.innerHTML="<div id='"+this.ids.overlay+"'></div>",document.body.appendChild(i)}this.modalcontainer=document.getElementById(this.ids.container),this.modaloverlay=document.getElementById(this.ids.overlay),this.buttons.proceed&&(this.proceed=document.getElementById(this.ids.btn_proceed)),this.buttons.cancel&&(this.cancel=document.getElementById(this.ids.btn_cancel)),this._handlers()}},{key:"_handlers",value:function e(){function t(e){if("onProceed"==e){if(this.prompt.enabled&&!document.querySelector("#"+this.ids.container+" form").checkValidity())return!1;this.prompt.enabled&&(this.promptvalue=document.querySelector("#"+this.ids.container+" form textarea").value)}this.callbacks[e]&&this.callbacks[e].call(this),this.close()}this.buttons.proceed&&(this.proceed.onclick=t.bind(this,"onProceed")),this.buttons.cancel&&(this.cancel.onclick=t.bind(this,"onCancel"))}},{key:"close",value:function e(){this.modalcontainer.parentNode.removeChild(this.modalcontainer),this.modaloverlay.parentNode.removeChild(this.modaloverlay)}},{key:"promptvalue",get:function e(){return this.prompt.value},set:function e(t){this.prompt.value=t}}]),ConfirmModal}();e.exports=ConfirmModal})},{}]},{},[1])(1)});