/*!
 * confirmmodal.js v2.0.1
 * https://github.com/chrisbenseler/confirmmodal.js#readme
 *
 * Licensed Apache 2.0 Â© Christian Benseler
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ConfirmModal=e()}}(function(){var e,t,n;return function e(t,n,o){function i(r,c){if(!n[r]){if(!t[r]){var a="function"==typeof require&&require;if(!c&&a)return a(r,!0);if(s)return s(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return i(n?n:e)},d,d.exports,e,t,n,o)}return n[r].exports}for(var s="function"==typeof require&&require,r=0;r<o.length;r++)i(o[r]);return i}({1:[function(t,n,o){!function(t,i){if("function"==typeof e&&e.amd)e(["module"],i);else if("undefined"!=typeof o)i(n);else{var s={exports:{}};i(s),t.ConfirmModal=s.exports}}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),o=function(){function e(){t(this,e),this.subscriptions={}}return n(e,[{key:"subscribe",value:function e(t,n){this.subscriptions[t]=n}},{key:"publish",value:function e(t,n){this.subscriptions[t]&&this.subscriptions[t](n)}}]),e}(),ConfirmModal=function(){function ConfirmModal(e){t(this,ConfirmModal),this.pubSub=new o,this.events={proceed:null,cancel:null},this._resolveOptions(e)}return n(ConfirmModal,[{key:"_resolveOptions",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id_prefix?t.id_prefix:"mm-confirmmodal";this.ids={btn_cancel:n+"-cancel",btn_proceed:n+"-proceed",container:n,overlay:n+"-overlay"};var o=t.cssclasses?t.cssclasses:{};this.cssclasses={btn_cancel:o.btn_cancel?o.btn_cancel:"btn btn-danger",btn_proceed:o.btn_proceed?o.btn_cancel:"btn btn-primary"};var i=t.messages||{};this.messages={title:i.title?i.title:"Confirm",desc:i.desc?i.desc:"",cancel:i.cancel?i.cancel:"Cancel",proceed:i.proceed?i.proceed:"Confirm"},this.callbacks={onProceed:"function"==typeof t.onProceed?t.onProceed:null,onCancel:"function"==typeof t.onCancel?t.onCancel:null};var s=t.buttons?t.buttons:{};this.buttons={cancel:"boolean"==typeof s.cancel?s.cancel:!0,proceed:"boolean"==typeof s.proceed?s.proceed:!0};var r=t.prompt?t.prompt:{};this.prompt={enabled:"boolean"==typeof r.enabled?r.enabled:!1,required:"boolean"==typeof r.required?r.required:!1,value:null}}},{key:"open",value:function e(){if(!document.getElementById(this.ids.container)){var t="";this.prompt.enabled&&(t="<form>",t+=this.prompt.required?"<textarea class='form-control' required></textarea>":"<textarea class='form-control'></textarea>",t+="</form>");var n=document.createElement("div"),o="<div id='"+this.ids.container+"'>\n								<div id='"+this.ids.container+"-content'>\n									<h2>"+this.messages.title+"</h2>\n									<p>"+this.messages.desc+"</p>\n									"+t+"\n									<footer>";this.buttons.cancel&&(o+='<button class="'+this.cssclasses.btn_cancel+'" id="'+this.ids.btn_cancel+'">'+this.messages.cancel+"</button>"),this.buttons.proceed&&(o+='<button class="'+this.cssclasses.btn_proceed+'" id="'+this.ids.btn_proceed+'">'+this.messages.proceed+"</button>"),o+="						</footer>\n								</div>\n							  </div>",n.innerHTML=o,document.body.appendChild(n);var i=document.createElement("div");i.innerHTML="<div id='"+this.ids.overlay+"'></div>",console.log(i.innerHTML),document.body.appendChild(i)}return this.modalcontainer=document.getElementById(this.ids.container),this.modaloverlay=document.getElementById(this.ids.overlay),this.buttons.proceed&&(this.proceed=document.getElementById(this.ids.btn_proceed)),this.buttons.cancel&&(this.cancel=document.getElementById(this.ids.btn_cancel)),this._handlers(),this}},{key:"on",value:function e(t){var n=this;return["proceed","cancel"].indexOf(t)<0?null:new Promise(function(e){n.pubSub.subscribe(t,function(){e(n)})})}},{key:"_handlers",value:function e(){function t(e){if("onProceed"==e){if(this.prompt.enabled&&!document.querySelector("#"+this.ids.container+" form").checkValidity())return!1;this.prompt.enabled&&(this.promptvalue=document.querySelector("#"+this.ids.container+" form textarea").value)}this.callbacks[e]&&this.callbacks[e](this),"onProceed"==e?this.pubSub.publish("proceed",this):"onCancel"==e&&this.pubSub.publish("cancel",this),this.close()}this.buttons.proceed&&(this.proceed.onclick=t.bind(this,"onProceed")),this.buttons.cancel&&(this.cancel.onclick=t.bind(this,"onCancel"))}},{key:"close",value:function e(){this.modalcontainer.parentNode.removeChild(this.modalcontainer),this.modaloverlay.parentNode.removeChild(this.modaloverlay)}},{key:"promptvalue",get:function e(){return this.prompt.value},set:function e(t){this.prompt.value=t}}]),ConfirmModal}();e.exports=ConfirmModal})},{}]},{},[1])(1)});